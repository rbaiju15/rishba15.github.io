/* ==========================================================================
   Engineering Theme Layer (site-wide)
   Goal: Modern engineering/product feel (clean panels, crisp type, project-forward)
   ========================================================================== */

/* -----------------------------
   1) Design tokens (easy knobs)
   ----------------------------- */
:root {
  /* Accent (single source of truth) */
  --eng-accent: #2f6bff;
  --eng-accent-rgb: 47, 107, 255; /* for rgba(var(--eng-accent-rgb), alpha) */

  /* Surfaces */
  --eng-surface: #ffffff;
  --eng-surface-2: #f6f8fb;
  --eng-surface-3: #eef2f7;

  /* Text */
  --eng-text: rgba(15, 23, 42, 0.92);
  --eng-muted: rgba(15, 23, 42, 0.68);

  /* Borders + shadows */
  --eng-border: rgba(15, 23, 42, 0.10);
  --eng-shadow: 0 12px 30px rgba(15, 23, 42, 0.10);
  --eng-shadow-soft: 0 8px 18px rgba(15, 23, 42, 0.08);

  /* Shape */
  --eng-radius: 16px;
  --eng-radius-sm: 12px;
  --eng-radius-xs: 10px;

  /* Spacing scale */
  --eng-space-1: 0.5rem;
  --eng-space-2: 0.75rem;
  --eng-space-3: 1rem;
  --eng-space-4: 1.5rem;
  --eng-space-5: 2rem;
  --eng-space-6: 3rem;
}

/* -----------------------------
   2) Global baseline polish
   ----------------------------- */
body {
  background: var(--eng-surface-2);
  color: var(--eng-text);
}

/* Links: always show some “accent presence” via underline color */
a {
  text-decoration-thickness: 0.08em;
  text-underline-offset: 0.18em;
  text-decoration-color: rgba(var(--eng-accent-rgb), 0.45);
}

a:hover {
  color: var(--eng-accent);
  text-decoration-color: rgba(var(--eng-accent-rgb), 0.85);
}

/* -----------------------------
   3) Main content panels
   ----------------------------- */
.page,
.archive {
  background: var(--eng-surface);
  border: 1px solid var(--eng-border);
  border-radius: var(--eng-radius);
  box-shadow: var(--eng-shadow-soft);
}

/* This is the key fix for “title too close to bubble”:
   give the header inside the panel its own top padding. */
.page__inner-wrap > header,
.archive__inner-wrap > header {
  padding-top: var(--eng-space-3);
}

/* General padding inside panels */
.page__inner-wrap,
.archive__inner-wrap {
  padding: var(--eng-space-5) var(--eng-space-5);
}

@media (max-width: 768px) {
  .page__inner-wrap,
  .archive__inner-wrap {
    padding: var(--eng-space-4) var(--eng-space-3);
  }

  .page__inner-wrap > header,
  .archive__inner-wrap > header {
    padding-top: var(--eng-space-2);
  }
}

/* Make titles feel “engineered” + visibly accented */
.page__title,
.archive__title {
  letter-spacing: -0.02em;
  margin-top: 0.25rem;
  margin-bottom: 1.25rem;

  /* Visible accent that does NOT depend on hover or active nav logic */
  padding-bottom: 0.55rem;
  border-bottom: 1px solid rgba(var(--eng-accent-rgb), 0.22);
}

/* Keep reading width comfortable */
.page__content {
  max-width: 72ch;
}

.page__content p,
.page__content li {
  line-height: 1.7;
  color: var(--eng-text);
}

.page__content h2 {
  margin-top: var(--eng-space-6);
  padding-top: var(--eng-space-2);

  /* Accent-tinted section rule */
  border-top: 1px solid rgba(var(--eng-accent-rgb), 0.18);
  letter-spacing: -0.01em;
}

.page__content h3 {
  margin-top: var(--eng-space-5);
  letter-spacing: -0.01em;
}

/* -----------------------------
   4) Masthead / nav polish
   ----------------------------- */
.masthead {
  background: transparent;
  border-bottom: none;
}

.masthead__inner-wrap {
  background: var(--eng-surface);
  border: 1px solid var(--eng-border);
  border-radius: var(--eng-radius);
  box-shadow: var(--eng-shadow-soft);
  padding: var(--eng-space-2) var(--eng-space-4);
  margin-top: var(--eng-space-3);

  /* Visible accent without needing “active” classes */
  border-top: 2px solid rgba(var(--eng-accent-rgb), 0.55);
}

.greedy-nav a {
  border-radius: var(--eng-radius-xs);
  padding: 0.55rem 0.75rem;
  transition: background 120ms ease, color 120ms ease, box-shadow 120ms ease;
}

.greedy-nav a:hover {
  background: rgba(var(--eng-accent-rgb), 0.08);
  color: var(--eng-text);
}

/* Site title link in the nav */
.masthead__menu-item--lg a {
  color: var(--eng-text);
  text-decoration-color: rgba(var(--eng-accent-rgb), 0.30);
}

.masthead__menu-item--lg a:hover {
  color: var(--eng-accent);
  text-decoration-color: rgba(var(--eng-accent-rgb), 0.85);
}

/* -----------------------------
   5) Sidebar/profile block as a card
   ----------------------------- */
.sidebar {
  margin-top: var(--eng-space-3);
}

.author__content,
.author__urls-wrapper {
  background: var(--eng-surface);
  border: 1px solid var(--eng-border);
  border-radius: var(--eng-radius);
  box-shadow: var(--eng-shadow-soft);
  padding: var(--eng-space-4);
}

/* Avatar */
.author__avatar img {
  border-radius: 999px;
  border: 1px solid var(--eng-border);
}

/* -----------------------------
   6) Buttons
   ----------------------------- */
.btn,
button,
input[type="submit"] {
  border-radius: var(--eng-radius-xs);
  border: 1px solid var(--eng-border);
  box-shadow: none;
  transition: transform 120ms ease, background 120ms ease, border-color 120ms ease;
}

.btn:hover,
button:hover,
input[type="submit"]:hover {
  transform: translateY(-1px);
}

/* Ensure primary buttons actually read as “primary” */
.btn--primary,
.btn.btn--primary {
  background: var(--eng-accent);
  border-color: var(--eng-accent);
  color: #fff;
  text-decoration: none;
}

.btn--primary:hover,
.btn.btn--primary:hover {
  filter: brightness(0.95);
}

/* -----------------------------
   7) Archive cards (portfolio, posts lists)
   ----------------------------- */
.archive__item {
  background: var(--eng-surface);
  border: 1px solid var(--eng-border);
  border-radius: var(--eng-radius);
  box-shadow: var(--eng-shadow);
  padding: var(--eng-space-4);
  transition: transform 140ms ease, box-shadow 140ms ease, border-color 140ms ease;
}

.archive__item:hover {
  transform: translateY(-2px);
  box-shadow: 0 16px 40px rgba(15, 23, 42, 0.14);

  /* Visible accent on interaction */
  border-color: rgba(var(--eng-accent-rgb), 0.35);
}

/* Better card headings */
.archive__item-title {
  letter-spacing: -0.01em;
}

.archive__item-excerpt {
  color: var(--eng-muted);
}

/* Grid-specific adjustments (your portfolio grid) */
.grid__item .archive__item-title {
  line-height: 1.2;
  margin: 0.6rem 0 0.4rem;
}

/* Show excerpt in grid view + clamp */
.grid__item .archive__item-excerpt {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  margin-top: 0.4rem;
}

/* Teaser images as product tiles */
.archive__item-teaser img {
  width: 100%;
  height: auto;
  border-radius: var(--eng-radius-sm);
  border: 1px solid var(--eng-border);
}

/* Portfolio grid spacing hook */
.engineering-grid .grid__item {
  margin-bottom: 1.6rem;
}

/* -----------------------------
   8) Code blocks + tables (technical, clean)
   ----------------------------- */
pre,
code {
  border-radius: var(--eng-radius-xs);
}

pre {
  border: 1px solid var(--eng-border);
  background: var(--eng-surface-3);
}

table {
  border: 1px solid var(--eng-border);
  border-radius: var(--eng-radius-xs);
  overflow: hidden;
}

table th {
  background: var(--eng-surface-3);
}

/* -----------------------------
   9) Chips (for later: tags/filters)
   ----------------------------- */
.eng-chip {
  display: inline-block;
  padding: 0.35rem 0.6rem;
  border-radius: 999px;
  border: 1px solid var(--eng-border);
  background: var(--eng-surface-3);
  color: var(--eng-text);
  font-size: 0.85em;
  line-height: 1;
}

.eng-chip--accent {
  border-color: rgba(var(--eng-accent-rgb), 0.35);
  background: rgba(var(--eng-accent-rgb), 0.10);
}
